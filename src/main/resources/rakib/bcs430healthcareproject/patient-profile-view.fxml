<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml" fx:controller="rakib.bcs430healthcareproject.ProfileController" stylesheets="@app.css">
    
    <!-- Top Bar -->
    <top>
        <VBox style="-fx-background-color: #2C3E50; -fx-padding: 15;">
            <HBox spacing="15" style="-fx-alignment: center-left;">
                <Button fx:id="backButton" onAction="#onBack" text="â† Back" style="-fx-padding: 8; -fx-font-size: 12;"/>
                <Label fx:id="titleLabel" text="My Profile" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold;" />
            </HBox>
            <Label fx:id="statusLabel" text="" style="-fx-text-fill: #27AE60; -fx-font-size: 11; -fx-padding: 5 0 0 0;" visible="false" managed="false"/>
        </VBox>
    </top>

    <!-- Main Content with Scrolling -->
    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: #f9f9f9;">
            <VBox style="-fx-padding: 30; -fx-spacing: 20; -fx-background-color: #f9f9f9;">
                
                <!-- Personal Information Section -->
                <VBox style="-fx-border-color: #E8E8E8; -fx-border-radius: 5; -fx-padding: 20; -fx-spacing: 15; -fx-background-color: white;">
                    <Label text="Personal Information" style="-fx-text-fill: #2C3E50; -fx-font-size: 16; -fx-font-weight: bold;"/>
                    
                    <!-- Name -->
                    <VBox spacing="5">
                        <Label text="Full Name *" style="-fx-text-fill: #333; -fx-font-weight: bold;"/>
                        <TextField fx:id="nameField" promptText="Enter your full name"/>
                    </VBox>
                    
                    <!-- Date of Birth and Age Row -->
                    <HBox spacing="20">
                        <VBox spacing="5" HBox.hgrow="ALWAYS">
                            <Label text="Date of Birth" style="-fx-text-fill: #333; -fx-font-weight: bold;"/>
                            <DatePicker fx:id="dateOfBirthPicker" style="-fx-padding: 8;"/>
                        </VBox>
                        <VBox spacing="5" style="-fx-min-width: 150;">
                            <Label text="Age" style="-fx-text-fill: #333; -fx-font-weight: bold;"/>
                            <TextField fx:id="ageField" promptText="Enter your age"/>
                        </VBox>
                    </HBox>
                    
                    <!-- Gender -->
                    <VBox spacing="5">
                        <Label text="Gender" style="-fx-text-fill: #333; -fx-font-weight: bold;"/>
                        <ComboBox fx:id="genderComboBox" style="-fx-padding: 8;"/>
                    </VBox>
                </VBox>
                
                <!-- Insurance Information Section -->
                <VBox style="-fx-border-color: #E8E8E8; -fx-border-radius: 5; -fx-padding: 20; -fx-spacing: 15; -fx-background-color: white;">
                    <Label text="Insurance Information" style="-fx-text-fill: #2C3E50; -fx-font-size: 16; -fx-font-weight: bold;"/>
                    
                    <!-- Insurance Number and Company Row -->
                    <HBox spacing="20">
                        <VBox spacing="5" HBox.hgrow="ALWAYS">
                            <Label text="Insurance Number" style="-fx-text-fill: #333; -fx-font-weight: bold;"/>
                            <TextField fx:id="insuranceNumberField" promptText="Enter insurance number"/>
                        </VBox>
                        <VBox spacing="5" HBox.hgrow="ALWAYS">
                            <Label text="Insurance Company" style="-fx-text-fill: #333; -fx-font-weight: bold;"/>
                            <TextField fx:id="insuranceCompanyField" promptText="Enter insurance company"/>
                        </VBox>
                    </HBox>
                </VBox>
                
                <!-- Medical Information Section -->
                <VBox style="-fx-border-color: #E8E8E8; -fx-border-radius: 5; -fx-padding: 20; -fx-spacing: 15; -fx-background-color: white;">
                    <Label text="Medical Information" style="-fx-text-fill: #2C3E50; -fx-font-size: 16; -fx-font-weight: bold;"/>
                    
                    <!-- Allergies -->
                    <VBox spacing="5">
                        <Label text="Allergies" style="-fx-text-fill: #333; -fx-font-weight: bold;"/>
                        <TextArea fx:id="allergiesArea" promptText="List any allergies (e.g., Penicillin, Peanuts)" wrapText="true" style="-fx-padding: 8; -fx-control-inner-background: white; -fx-min-height: 80;" />
                    </VBox>
                    
                    <!-- Medical History -->
                    <VBox spacing="5">
                        <Label text="Medical History" style="-fx-text-fill: #333; -fx-font-weight: bold;"/>
                        <TextArea fx:id="medicalHistoryArea" promptText="Describe any past medical conditions or surgeries" wrapText="true" style="-fx-padding: 8; -fx-control-inner-background: white; -fx-min-height: 80;" />
                    </VBox>
                </VBox>
                
                <!-- Spacer -->
                <VBox style="-fx-min-height: 30;" />
            </VBox>
        </ScrollPane>
    </center>

    <!-- Bottom Buttons -->
    <bottom>
        <HBox style="-fx-background-color: #f5f5f5; -fx-padding: 15; -fx-alignment: center-right; -fx-spacing: 10; -fx-border-color: #E8E8E8; -fx-border-width: 1 0 0 0;">
            <!-- Edit button (shown when not editing) -->
            <Button fx:id="editButton" onAction="#onEdit" text="Edit Profile" 
                    style="-fx-padding: 12 24; -fx-font-size: 12; -fx-background-color: #3498DB; -fx-text-fill: white; -fx-cursor: hand;"/>
            
            <!-- Save button (shown when editing) -->
            <Button fx:id="saveButton" onAction="#onSave" text="Save Changes" 
                    style="-fx-padding: 12 24; -fx-font-size: 12; -fx-background-color: #27AE60; -fx-text-fill: white; -fx-cursor: hand;" 
                    managed="false" visible="false"/>
            
            <!-- Cancel button (shown when editing) -->
            <Button fx:id="cancelButton" onAction="#onCancel" text="Cancel" 
                    style="-fx-padding: 12 24; -fx-font-size: 12; -fx-background-color: #E74C3C; -fx-text-fill: white; -fx-cursor: hand;" 
                    managed="false" visible="false"/>
        </HBox>
    </bottom>
</BorderPane>
